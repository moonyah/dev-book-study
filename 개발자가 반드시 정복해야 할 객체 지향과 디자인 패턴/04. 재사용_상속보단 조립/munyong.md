# Chapter 04. 재사용: 상속보단 조립

## 1️. 상속과 재사용

객체 재사용 방법: **상속**과 **조립**

### 상속의 단점

#### 1. 상위 클래스 변경의 어려움

- 상속 = 상위 클래스에 **강하게 의존**
- 상위 클래스 변경 → 하위 클래스까지 **영향 전파**
- 계층 구조가 클수록 변경이 어려움

#### 2. 클래스의 불필요한 증가

- 기능 확장을 상속으로만 하면 클래스 개수 **폭발**
- 예) 캐시 기능 추가 등 요구사항 증가 → 서브클래스 계속 생성

#### 3. 상속의 오용

- **is-a 관계가 아닐 때 상속 사용 → 심각한 문제**
- 올바른 예: `Dog is an Animal`
- 잘못된 예: `Printer extends DatabaseConnection`

> **상속은 "재사용"이 아니라 "확장" 관점에서만 고려**

---

## 2️. 조립(Composition)을 이용한 재사용

### 조립(Composition)

- **객체 필드로 다른 객체를 참조** → 복잡한 기능을 조합
- **클래스 증가 방지**
- **런타임 객체 교체 가능**
- **상위 클래스 변경 문제 없음**

#### 장점

1. 불필요한 클래스 증가 방지
2. 유연한 객체 교체 (런타임 조립 가능)
3. 변경에 강한 구조

#### 단점

- 런타임 구조가 상속보다 복잡
- 설계와 구현 난이도 ↑

> **변경 유연성이 크므로, 재사용 목적이라면 상속보다 조립을 우선 고려**

---

### 위임(Delegation)

- **객체가 자신의 작업을 다른 객체에 위임**
- 실행 시간 약간 증가하지만, **유연성과 재사용성이 압도적으로 우위**

---

### 상속은 언제 사용할까?

- **is-a 관계** + **기능 확장 목적**일 때만 사용
- 예) UI 위젯 계층: `Button`, `TextView`, `ListView` 등

> **상속은 점진적 기능 확장의 도구**  
> → 문제 발생 시 조립으로 전환 고려

---

## 핵심 정리

| 재사용 방법 | 추천도 | 특징                                  |
| ----------- | ------ | ------------------------------------- |
| 상속        | 낮음   | 의존성 강함, 클래스 폭발 가능         |
| 조립        | 높음   | 유연성, 변경 용이, 유지보수 우수      |
| 위임        | 높음   | 조립과 함께 사용, 실행 시간 약간 증가 |
